# CSS性能优化&权重规则

## [CSS性能优化](https://juejin.im/entry/59c3bf815188257e8b36b70a)

> CSS选择器性能损耗主要源于 从DOM Tree —> Render Tree —> Painting 的过程，

- 加载-
  - 减少文件体积。
  - 减少使用@important
- 选择器性能-
  - 优先使用class选择器
  - 谨慎使用id选择器
  - 避免使用css正则表达式规则
- 渲染性能-
  - 减少使用高开销的CSS属性
    - （box-shadow, border-radius、transforms)
  - 减少重排
    - 预定义好class,修改DOM的className
    - 对动画元素使用绝对定位
    - 优化动画，启动GPU硬件加速

## [CSS权重](https://juejin.im/post/5afa98bf51882542c832e5ec)

> 权重规则总结

- !important 优先级最高，但也会被权重高的important所覆盖
- 行内样式总会覆盖外部样式表的任何样式(除了!important)
- 单独使用一个选择器的时候，不能跨等级使css规则生效
  - 阶层固化。
  - 无论多少个class组成的选择器，都没有一个ID选择器权重高。
  - 无论多少个元素组成的选择器，都没有一个class选择器权重高
  - 无论多少个ID组成的选择器，都没有行内样式权重高
- 如果两个权重不同的选择器作用在同一元素上，权重值高的css规则生效
- 如果两个相同权重的选择器作用在同一元素上：以后面出现的选择器为最后规则
- 权重相同时，与元素距离近的选择器生效

> 选择器权重顺序

- !important>行内样式>ID选择器（权重为100） > 类选择器 | 属性选择器 | 伪类选择器（他们的权重都为10） > 元素选择器（他们的权重都为1）
